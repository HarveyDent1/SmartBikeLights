(this["webpackJsonplight-configurator"]=this["webpackJsonplight-configurator"]||[]).push([[0],{159:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var i=n(3),a=n(0),r=n.n(a),l=n(41),o=n.n(l),s=(n(159),n(22)),c=n(9),u=n(236),h=n(237),d=n(80),f=n(229),j=n(235),m=n(224),b=n(244),g=n(228),p=n(214),O=n(243),x=[{id:"B2713",name:"Edge 1030",polygons:!0,touchScreen:!0},{id:"B3095",name:"Edge 1030 / Bontrager",polygons:!0,touchScreen:!0},{id:"B3570",name:"Edge 1030 Plus",polygons:!0,touchScreen:!0},{id:"B1836",name:"Edge 1000 / Explore",polygons:!0,touchScreen:!0},{id:"B3011",name:"Edge Explore",polygons:!0,touchScreen:!0},{id:"B3122",name:"Edge 830",polygons:!0,touchScreen:!0},{id:"B2530",name:"Edge 820 / Explore",polygons:!0,touchScreen:!0},{id:"B3121",name:"Edge 530",polygons:!0,touchScreen:!1},{id:"B3112",name:"Edge 520 Plus",polygons:!0,touchScreen:!1},{id:"B2067",name:"Edge 520",polygons:!1,touchScreen:!1},{id:"B3558",name:"Edge 130 Plus",polygons:!1,touchScreen:!1},{id:"B2909",name:"Edge 130",polygons:!1,touchScreen:!1}],v={};x.forEach((function(e){return v[e.id]=e}));var y=v,T=function(e){return e&&y[e]&&y[e].touchScreen},V=[{id:"A",name:"Acceleration"},{id:"B",name:"Light Battery"},{id:"C",name:"Speed"},{id:"E",name:"Timespan"},{id:"F",name:"Position"},{id:"G",name:"GPS accuracy"},{id:"H",name:"Timer state"}];v={},V.forEach((function(e){return v[e.id]=e.name}));var w=v,C=[{id:"0",name:"UTC Time"},{id:"r",name:"Sunrise"},{id:"s",name:"Sunset"}];v={},C.forEach((function(e){return v[e.id]=e.name}));var N=v,G=[{id:0,name:"Metric (km/h)"},{id:1,name:"Statute (MPH)"}],F=[{id:0,name:"km/h"},{id:1,name:"MPH"}],M=[{id:0,name:"24h"},{id:1,name:"12h"}],P=[{id:"=",name:"Equal to"},{id:">",name:"Greater than"},{id:"<",name:"Lower than"}],k=[null,"Bad","Low","Ok","Good","New"],L=["N/A","Last","Poor","Ok","Good"],S=["NR","ST","PA","RE"],B=[{id:0,name:"Off"},{id:1,name:"Steady beam 81-100% intensity"},{id:2,name:"Steady beam 61-80% intensity"},{id:3,name:"Steady beam 41-60% intensity"},{id:4,name:"Steady beam 21-40% intensity"},{id:5,name:"Steady beam 0-20% intensity"},{id:6,name:"Slow flash mode"},{id:7,name:"Fast flash mode"},{id:8,name:"Randomly timed flash mode"},{id:9,name:"Auto"},{id:59,name:"Custom mode 1 (manufacturer-defined)"},{id:60,name:"Custom mode 2 (manufacturer-defined)"},{id:61,name:"Custom mode 3 (manufacturer-defined)"},{id:62,name:"Custom mode 4 (manufacturer-defined)"},{id:63,name:"Custom mode 5 (manufacturer-defined)"}],E=[{id:0,name:"Off"},{id:1,name:"High"},{id:2,name:"Medium"},{id:5,name:"Low"},{id:63,name:"Day Flash"},{id:62,name:"Night Flash"}],D={id:-1,name:"Control mode"},A=[{id:1,name:"Bontrager ION PRO RT",modes:E,lightModes:[4587520,196641],defaultLightPanel:{shortName:"Ion Pro RT",buttonGroups:[[D,E[0]],[E[1]],[E[2]],[E[3]],[E[4]],[E[5]]]}},{id:99,name:"Unknown",modes:B,lightModes:null,defaultLightPanel:null}],I=[{id:0,name:"Off"},{id:1,name:"Day Steady"},{id:5,name:"Night Steady"},{id:7,name:"Day Flash"},{id:8,name:"All-Day Flash"},{id:63,name:"Night Flash"}],q=[{id:1,name:"Bontrager Flare RT",modes:I,lightModes:[6291461,1409482753],defaultLightPanel:{shortName:"Flare RT",buttonGroups:[[D,I[0]],[I[1]],[I[2]],[I[3]],[I[4]],[I[5]]]}},{id:99,name:"Unknown",modes:B,lightModes:null,defaultLightPanel:null}],H=function(e){return"<"===e?">":">"===e?"<":e},R=function(e){return 6-e},_=n(29),U=n(241),z=n(249),W=n(119),$=n.n(W),J=n(222),Z=Object(p.a)((function(e){return{input:{width:"100%"}}})),K=Object(O.a)((function(e){var t=e.items,n=e.label,l=e.value,o=e.setter,s=e.required,c=Object(_.a)(),u=Z();return Object(a.useEffect)((function(){t.find((function(e){return e.id===l}))||o(null)}),[t,l,o]),null!==l&&t.find((function(e){return e.id===l}))||(l=""),Object(i.jsx)(U.a,{className:u.input,id:c,select:!0,required:s,error:!(!s||""!==l),label:n,value:l,onChange:function(e){var n=e.target.value;o(t.find((function(e){return e.id===n}))?n:null)},variant:"standard",InputProps:{readOnly:!o,endAdornment:o&&!s&&""!==l?Object(i.jsx)(r.a.Fragment,{children:Object(i.jsx)(J.a,{style:{marginRight:"1em",padding:"0"},onClick:function(){return o(null)},children:Object(i.jsx)($.a,{})})}):null},children:t.map((function(e){return Object(i.jsx)(z.a,{value:e.id,children:e.name},e.id)}))})})),Q=Object(p.a)((function(e){return{input:{width:"100%"}}})),X=Object(O.a)((function(e){var t=e.type,n=e.label,a=e.value,r=e.setter,l=e.required,o=Object(_.a)(),s=Q();return(null===a||Number.isNaN(a))&&(a=""),Object(i.jsx)(U.a,{id:o,className:s.input,label:n,required:l,error:!(!l||""!==a),variant:"standard",type:t,value:a,onChange:function(e){var n=e.target.value;r("number"===t?parseFloat(n):n)},InputProps:{readOnly:!r}})})),Y=n(25),ee=n(26),te=n(17),ne=function(){function e(t){var n=this;Object(Y.a)(this,e),this.name=null,this.filters=[],this.lightMode=null,this.open=!0,this.setName=function(e){e.length>6||(n.name=e.replace(/[^a-z0-9]/gi,""))},this.setLightMode=function(e){n.lightMode=e},this.setOpen=function(e){n.open=e},this._hasLightMode=t,this.id=Object(_.a)(),Object(te.d)(this,{id:!1})}return Object(ee.a)(e,[{key:"getConfigurationValue",value:function(){var e="".concat(this.name||"",":").concat(this.filters.length);return this._hasLightMode&&(e+=":".concat(this.lightMode)),this.filters.forEach((function(t){e+="".concat(t.getConfigurationValue()||"")})),e}},{key:"isValid",value:function(){return!(this._hasLightMode&&null===this.lightMode||!this.filters.length)&&this.filters.every((function(e){return e.isValid()}))}},{key:"getDisplayName",value:function(e){var t=this,n="Group";return this.name&&(n+=" Name: "+this.name),e&&null!==this.lightMode&&(n+=" Light Mode: "+e.find((function(e){return e.id===t.lightMode})).name),n}},{key:"displayName",get:function(){return"Group "+(this.name||"")}}]),e}(),ie=n(66),ae=n(77),re=n(94),le=function(e,t,n){return null===t?null:"0"===e?Object(re.a)(Object(ie.a)(Object(ae.a)(),t),0===n?"H:mm":"h:mm aa"):N[e]+(0===t?"":t>0?"+"+t/60+" min":t/60+" min")},oe=function(){function e(){var t=this;Object(Y.a)(this,e),this.type=null,this.operator=null,this.value=null,this.fromType=null,this.fromValue=null,this.toType=null,this.toValue=null,this.polygons=[],this.open=!0,this.setType=function(e){t.type=e},this.setOperator=function(e){t.operator=e},this.setValue=function(e){t.value=e},this.setFromType=function(e){t.fromType=e},this.setFromValue=function(e){t.fromValue=e},this.setToType=function(e){t.toType=e},this.setToValue=function(e){t.toValue=e},this.setOpen=function(e){t.open=e},this.id=Object(_.a)(),Object(te.d)(this,{id:!1})}return Object(ee.a)(e,[{key:"isValid",value:function(){switch(this.type){case"E":return this.fromType&&null!==this.fromValue&&!Number.isNaN(this.fromValue)&&this.toType&&null!==this.toValue&&!Number.isNaN(this.toValue);case"F":return this.polygons.length;default:return this.type&&""!==this.value&&null!==this.value&&!Number.isNaN(this.value)&&this.operator}}},{key:"getConfigurationValue",value:function(){var e=function(e,t){return"0"===e?t:"".concat(e).concat(t)},t=this.type;return"F"===this.type?this.polygons.length?(t+="".concat(this.polygons.length),this.polygons.forEach((function(e){e.vertexes.forEach((function(e){t+=",".concat(e[0],",").concat(e[1])}))})),t):null:"E"===this.type?(t+="".concat(e(this.fromType,this.fromValue),","),t+="".concat(e(this.toType,this.toValue))):"".concat(t).concat(this.operator).concat(this.value)}},{key:"getDisplayName",value:function(e){if(!this.type&&"E"!==this.type)return null;var t=w[this.type]+" ";if("E"===this.type)null!==this.fromValue&&null!==this.toValue&&(t+="from "+le(this.fromType,this.fromValue,e.timeFormat)+" to ",t+=le(this.toType,this.toValue,e.timeFormat));else if("F"===this.type)this.polygons.length&&(t+=this.polygons.length+" polygons");else if(null!==this.value&&!Number.isNaN(this.value))switch(this.type){case"A":t+=(this.operator||"")+" ",t+=this.value+"% per second";break;case"B":t+=(H(this.operator)||"")+" ",t+=k[R(this.value)];break;case"C":t+=(this.operator||"")+" ",t+=function(e,t){var n=0===t?3.6*e:2.236934*e,i=F[t].name;return"".concat(Math.round(100*n)/100," ").concat(i)}(this.value,e.units);break;case"G":t+=(this.operator||"")+" ",t+=L[this.value]}return t}},{key:"hasOperator",get:function(){return this.type&&"E"!==this.type&&"F"!==this.type}}]),e}(),se=function(e){return Math.round(1e6*e)/1e6},ce=function e(t){var n=this;Object(Y.a)(this,e),this.vertexes=[],this.setVertexes=function(e){n.vertexes=e.map((function(e){return[se(e.lat),se(e.lng)]}))},Object(te.d)(this,{}),t&&this.setVertexes(t)},ue=function(){function e(){Object(Y.a)(this,e),this.buttons=[],this.id=Object(_.a)(),Object(te.d)(this,{id:!1})}return Object(ee.a)(e,[{key:"isValid",value:function(){return this.buttons.every((function(e){return e.isValid()}))}}]),e}(),he=function(){function e(){var t=this;Object(Y.a)(this,e),this.mode=null,this.name=null,this.setMode=function(e){t.mode=e},this.setName=function(e){t.name=e},this.id=Object(_.a)(),Object(te.d)(this,{id:!1})}return Object(ee.a)(e,[{key:"isValid",value:function(){return null!=this.mode&&(this.mode<0||this.name)}}]),e}(),de=function(){function e(t){var n=this;Object(Y.a)(this,e),this.buttonGroups=[],this.lightName=null,this.setLightName=function(e){n.lightName=e},Object(te.d)(this,{}),t&&(this.lightName=t.shortName,t.buttonGroups.forEach((function(e){var t=new ue;e.forEach((function(e){var n=new he;n.mode=e.id,n.name=e.name,t.buttons.push(n)})),n.buttonGroups.push(t)})))}return Object(ee.a)(e,[{key:"isValid",value:function(){return this.buttonGroups.every((function(e){return e.isValid()}))}}]),e}(),fe=new oe;fe.type="D",fe.operator="=",fe.value="1";var je=function(e,t,n){var i,a=null,r=!1;for(i=t;i<e.length;i++){var l=e[i],o=l.charCodeAt(0);if(46===o)r=!0;else if(45!==o&&(o>57||o<48))break;a=null===a?l:a+l}return n[0]=i,null===a?null:r?parseFloat(a):parseInt(a)},me=function(e,t,n){var i=je(e,t,n);return null===i?null:[i,je(e,n[0]+1,n)]},be=function(e,t,n){var i,a=null;for(i=t;i<e.length;i++){var r=e[i];if(":"===r||"#"===r||"|"===r)break;a=null===a?r:a+r}return n[0]=i,a},ge=function(e,t,n,i,a){var r=e[t],l="s"!==r&&"r"!==r?"0":r;"0"!==l&&t++,i[a]=l,i[a+1]=je(e,t,n)},pe=function(e,t,n){n[1]=null;var i=new Array(8*je(e,t,n)),a=0;for(t=n[0]+1;a<i.length;)i[a]=je(e,t,n),a++,t=n[0]+1;return i},Oe=function(e,t,n){return n[1]=e[t],je(e,t+1,n)},xe=function(e,t,n){var i=new Array(4);return n[1]=null,ge(e,t,n,i,0),ge(e,n[0]+1,n,i,2),i},ve=function(e,t,n){if(!je(e,t,n))return null;var i=new de;for(je(e,n[0]+1,n),i.lightName=be(e,n[0]+1,n),t=n[0];t<e.length;){var a=e[t];if("#"===a)break;if("|"!==a)throw new Error("Invalid LightPanel configuration");for(var r=new ue,l=je(e,n[0]+1,n),o=0;o<l;o++){var s=new he;s.name=be(e,n[0]+1,n),s.mode=je(e,n[0]+1,n),r.buttons.push(s)}t=n[0],i.buttonGroups.push(r)}return i},ye=function(e,t,n){var i=new oe;if(i.type=e,i.operator=t,"E"===e)i.fromType=n[0],i.fromValue=n[1],i.toType=n[2],i.toValue=n[3];else if("F"===e)for(var a=0;a<n.length;a+=8){for(var r=new ce,l=a+8,o=a;o<l;)r.vertexes.push([n[o++],n[o++]]);i.polygons.push(r)}else i.value=n;return i},Te=function(e,t,n,i){var a=[],r=function(e,t,n,i){var a=je(e,t,i);if(null===a)return null;var r=n?3:2,l=je(e,i[0]+1,i),o=new Array(3*a+l*r);t=i[0];for(var s=0;t<e.length;){var c=e[t].charCodeAt(0);if(35===c)break;if(124===c)o[s]=be(e,t+1,i),o[s+1]=je(e,i[0]+1,i),n&&(o[s+2]=je(e,i[0]+1,i)),s+=r,t=i[0];else if(c>=65&&c<=90){var u=70===c?pe(e,t+1,i):69===c?xe(e,t+1,i):Oe(e,t+1,i);o[s]=e[t],o[s+1]=i[1],o[s+2]=u,s+=3,t=i[0]}else t++}return o}(e,t,n,i);if(!r)return a;for(var l=0;l<r.length;){var o=new ne(n);o.name=r[l++];var s=r[l++];o.lightMode=n?r[l++]:null;for(var c=l+3*s,u=l;u<c;)o.filters.push(ye(r[u++],r[u++],r[u++]));l=c,a.push(o)}return a},Ve=function(){function e(){var t=this;Object(Y.a)(this,e),this.device=null,this.units=0,this.timeFormat=0,this.globalFilterGroups=[],this.headlight=null,this.headlightModes=null,this.headlightFilterGroups=[],this.headlightDefaultMode=null,this.headlightPanel=null,this.taillight=null,this.taillightModes=null,this.taillightFilterGroups=[],this.taillightDefaultMode=null,this.taillightPanel=null,this.setDevice=function(e){t.device=e},this.setUnits=function(e){t.units=e},this.setTimeFormat=function(e){t.timeFormat=e},this.setHeadlight=function(e){t.headlight=e},this.setHeadlightModes=function(e){t.headlightModes=e},this.setHeadlightDefaultMode=function(e){t.headlightDefaultMode=e},this.setHeadlightPanel=function(e){t.headlightPanel=e},this.setTaillight=function(e){t.taillight=e},this.setTaillightModes=function(e){t.taillightModes=e},this.setTaillightDefaultMode=function(e){t.taillightDefaultMode=e},this.setTaillightPanel=function(e){t.taillightPanel=e},Object(te.d)(this,{})}return Object(ee.a)(e,[{key:"isValid",value:function(){return this.globalFilterGroups.every((function(e){return e.isValid()}))&&(null!==this.headlight||null!==this.taillight)&&this.islightValid(this.headlight,this.headlightFilterGroups,this.headlightDefaultMode)&&this.islightValid(this.taillight,this.taillightFilterGroups,this.taillightDefaultMode)&&(null==this.headlightPanel||this.headlightPanel.isValid())&&(null==this.taillightPanel||this.taillightPanel.isValid())&&this.device}},{key:"islightValid",value:function(e,t,n){return null===e||t.every((function(e){return e.isValid()}))&&(!t.length&&!this.globalFilterGroups.length||null!==n)}},{key:"getConfigurationValue",value:function(){if(!this.isValid())return null;var e="".concat(this.getFilterGroupsConfigurationValue(this.globalFilterGroups,null));return e+="#".concat(this.getNumberArray(this.headlightModes)),e+="#".concat(this.getFilterGroupsConfigurationValue(this.headlightFilterGroups,this.headlightDefaultMode)),e+="#".concat(this.getNumberArray(this.taillightModes)),e+="#".concat(this.getFilterGroupsConfigurationValue(this.taillightFilterGroups,this.taillightDefaultMode)),e+="#".concat(this.getLightPanelConfigurationValue(this.headlightPanel,this.device)),e+="#".concat(this.getLightPanelConfigurationValue(this.taillightPanel,this.device)),e+="#".concat(this.device),e+="#".concat(null===this.headlight?"":this.headlight),e+="#".concat(null===this.taillight?"":this.taillight),e+="#".concat(this.units),e+="#".concat(this.timeFormat)}},{key:"getNumberArray",value:function(e){return null==e?"":"".concat(e[0],",").concat(e[1])}},{key:"getLightPanelConfigurationValue",value:function(e,t){var n=x.find((function(e){return e.id===t}));if(!e||!n||!n.touchScreen||!e.buttonGroups.length)return"";for(var i=e.lightName?e.lightName:"",a="",r=0,l=0;l<e.buttonGroups.length;l++){var o=e.buttonGroups[l].buttons;r+=o.length,a+="|".concat(o.length);for(var s=0;s<o.length;s++){var c=o[s];a+=",".concat(c.mode<0?"":c.name,":").concat(c.mode)}}return"".concat(r,",").concat(e.buttonGroups.length,":").concat(i).concat(a)}},{key:"getFilterGroupsConfigurationValue",value:function(e,t){if(!e.length&&null===t)return"";var n="",i=0,a=e.length,r="";return null!==t&&(i++,a++,r="|".concat(function(e){var t=new ne(!0);return t.lightMode=e,t.filters.push(fe),t.getConfigurationValue()}(t))),e.forEach((function(e){i+=e.filters.length,n+="|".concat(e.getConfigurationValue())})),"".concat(i,",").concat(a).concat(n).concat(r)}}],[{key:"parse",value:function(t){if(!t||0===t.length)return null;var n=[0,0],i=new e;i.globalFilterGroups=Te(t,0,!1,n),i.headlightModes=me(t,n[0]+1,n);var a,r=Te(t,n[0]+1,!0,n);return r.length&&(a=r.splice(r.length-1,1)[0],i.headlightDefaultMode=a.lightMode),i.headlightFilterGroups=r,i.taillightModes=me(t,n[0]+1,n),(r=Te(t,n[0]+1,!0,n)).length&&(a=r.splice(r.length-1,1)[0],i.taillightDefaultMode=a.lightMode),i.taillightFilterGroups=r,i.headlightPanel=ve(t,n[0]+1,n),i.taillightPanel=ve(t,n[0]+1,n),i.device=be(t,n[0]+1,n),i.headlight=je(t,n[0]+1,n),i.taillight=je(t,n[0]+1,n),i.units=je(t,n[0]+1,n),i.timeFormat=je(t,n[0]+1,n),i.isValid()?i:null}}]),e}(),we=n(232),Ce=n(234),Ne=n(233),Ge=n(221),Fe=n(57),Me=n.n(Fe),Pe=n(247),ke=n(8),Le=Object(ke.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(Pe.a),Se=n(223),Be=n(121),Ee=n.n(Be),De=n(120),Ae=n.n(De),Ie=n(225),qe=n(122),He=n.n(qe),Re=Object(ke.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Se.a),_e=Object(p.a)((function(e){return{name:{display:"flex",alignItems:"center"},error:{color:"#f44336",display:"flex",justifyContent:"center",alignItems:"center"}}})),Ue=Object(O.a)((function(e){var t=e.item,n=e.param1,a=e.removeLabel,r=e.removeCallback,l=_e();return Object(i.jsx)(Re,{expandIcon:Object(i.jsx)(Ae.a,{}),"aria-controls":t.id,id:t.id,children:Object(i.jsx)("div",{style:{width:"100%"},children:Object(i.jsxs)(m.a,{container:!0,children:[Object(i.jsx)(m.a,{item:!0,xs:2,sm:1,children:Object(i.jsx)(Ie.a,{"aria-label":a,onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:Object(i.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:function(){return r(t)},children:Object(i.jsx)(Ee.a,{})})})}),Object(i.jsx)(m.a,{item:!0,xs:9,sm:10,className:l.name,children:Object(i.jsx)(d.a,{children:t.getDisplayName(n)})}),Object(i.jsx)(m.a,{item:!0,xs:1,sm:1,className:l.error,children:t.isValid()?null:Object(i.jsx)(He.a,{})})]})})})})),ze=n(226),We=Object(ke.a)((function(e){return{root:{padding:e.spacing(2)}}}))(ze.a),$e=n(251),Je=Object(p.a)((function(e){return{input:{width:"100%"}}})),Ze=Object(O.a)((function(e){var t=e.label,n=e.value,a=e.setter,r=e.getLabelText,l=e.step,o=e.min,s=e.max,c=e.defaultValue,u=Object(_.a)(),h=Je();return null==r||r(n)||(n=c),Object(i.jsxs)("div",{className:h.input,children:[Object(i.jsx)(d.a,{id:u,gutterBottom:!0,children:t}),Object(i.jsx)($e.a,{step:l,min:o,max:s,marks:!0,"aria-labelledby":u,valueLabelFormat:r,valueLabelDisplay:"auto",value:n,onChange:function(e,t){a(t)}})]})})),Ke=Object(O.a)((function(e){var t=e.filter;return Object(i.jsxs)(m.a,{container:!0,spacing:3,children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:4,children:Object(i.jsx)(K,{required:!0,items:P,label:"Operator",setter:function(e){t.setOperator(H(e))},value:H(t.operator)})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:8,children:Object(i.jsx)(Ze,{label:"Battery state",setter:function(e){t.setValue(R(e))},value:R(t.value),getLabelText:function(e){return k[e]},step:1,min:1,max:5,defaultValue:5})})]})})),Qe=Object(O.a)((function(e){var t=e.label,n=e.filter;return Object(i.jsxs)(m.a,{container:!0,spacing:3,children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:4,children:Object(i.jsx)(K,{required:!0,items:P,label:"Operator",setter:n.setOperator,value:n.operator})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:8,children:Object(i.jsx)(X,{required:!0,label:t,type:"number",setter:n.setValue,value:n.value})})]})})),Xe=function(e){return{units:e.units,timeFormat:e.timeFormat}},Ye=r.a.createContext(Xe(new Ve)),et=Object(O.a)((function(e){var t=e.filter,n=Object(a.useContext)(Ye).units,l=r.a.useState(0),o=Object(c.a)(l,2),s=o[0],u=o[1];return Object(a.useEffect)((function(){var e;e=Number.isNaN(t.value)?0:0===n?3.6*t.value:2.236934*t.value,u(Math.round(100*e)/100)}),[n,t.value]),Object(i.jsxs)(m.a,{container:!0,spacing:3,children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:4,children:Object(i.jsx)(K,{required:!0,items:P,label:"Operator",setter:t.setOperator,value:t.operator})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:5,children:Object(i.jsx)(X,{required:!0,label:"Speed",type:"number",setter:function(e){""===e&&(e=null);var i=1===n?.44704*e:.27777777777778*e;t.setValue(null===e?null:Math.round(1e5*i)/1e5)},value:s})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:3,children:Object(i.jsx)(K,{items:F,label:"Units",value:n})})]})})),tt=Object(O.a)((function(e){var t=e.filter;return Object(i.jsxs)(m.a,{container:!0,spacing:3,children:[Object(i.jsxs)(m.a,{item:!0,xs:12,sm:12,children:[Object(i.jsx)(d.a,{variant:"h6",children:"Values:"}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)(d.a,{variant:"button",children:"N/A"})," - GPS is not available"]}),Object(i.jsxs)("li",{children:[Object(i.jsx)(d.a,{variant:"button",children:"Last"})," - The Location is based on the last known GPS fix"]}),Object(i.jsxs)("li",{children:[Object(i.jsx)(d.a,{variant:"button",children:"Poor"})," - The Location was calculated with a poor GPS fix. Only a 2-D GPS fix is available, likely due to a limited number of tracked satellites"]}),Object(i.jsxs)("li",{children:[Object(i.jsx)(d.a,{variant:"button",children:"Ok"})," - The Location was calculated with a usable GPS fix. A 3-D GPS fix is available, with marginal HDOP (horizontal dilution of precision)"]}),Object(i.jsxs)("li",{children:[Object(i.jsx)(d.a,{variant:"button",children:"Good"})," - The Location was calculated with a good GPS fix. A 3-D GPS fix is available, with good-to-excellent HDOP (horizontal dilution of precision)"]})]})]}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:4,children:Object(i.jsx)(K,{required:!0,items:P,label:"Operator",setter:t.setOperator,value:t.operator})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:8,children:Object(i.jsx)(Ze,{label:"Accuracy",setter:t.setValue,value:t.value,getLabelText:function(e){return L[e]},step:1,min:0,max:4,defaultValue:4})})]})})),nt=Object(O.a)((function(e){var t=e.filter;return Object(i.jsxs)(m.a,{container:!0,spacing:3,children:[Object(i.jsxs)(m.a,{item:!0,xs:12,sm:12,children:[Object(i.jsx)(d.a,{variant:"h6",children:"Values:"}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)(d.a,{variant:"button",children:"NR"})," - Not recording"]}),Object(i.jsxs)("li",{children:[Object(i.jsx)(d.a,{variant:"button",children:"ST"})," - Recording stopped"]}),Object(i.jsxs)("li",{children:[Object(i.jsx)(d.a,{variant:"button",children:"PA"})," - Recording paused"]}),Object(i.jsxs)("li",{children:[Object(i.jsx)(d.a,{variant:"button",children:"RE"})," - Recording"]})]})]}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:4,children:Object(i.jsx)(K,{required:!0,items:P,label:"Operator",setter:t.setOperator,value:t.operator})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:8,children:Object(i.jsx)(Ze,{label:"Timer state",setter:t.setValue,value:t.value,getLabelText:function(e){return S[e]},step:1,min:0,max:3,defaultValue:0})})]})})),it=n(239),at=Object(O.a)((function(e){var t=e.label,n=e.value,a=e.setter,r=function(e){a(e)};return n instanceof Date||(n=""),Object(i.jsx)(Ye.Consumer,{children:function(e){var a=e.timeFormat;return Object(i.jsx)(it.a,{ampm:1===a,label:t,value:n,onChange:r,renderInput:function(e){return Object(i.jsx)(U.a,Object(s.a)(Object(s.a)({},e),{},{margin:"normal",variant:"standard"}))}})}})})),rt=n(124),lt=n(125),ot=Object(O.a)((function(e){var t=e.filter,n=function(e,t){return null===t?null:"0"===e?Object(ie.a)(Object(ae.a)(),t):t/60},a=function(e,t){return null===t?null:"0"===e?Object(rt.a)(t,Object(ae.a)()):60*t},l=r.a.useState({fromValue:n(t.fromType,t.fromValue),toValue:n(t.toType,t.toValue)}),o=Object(c.a)(l,2),s=o[0],u=o[1],h=function(e){e="0"===t.fromType?Object(lt.a)(e,0):e,t.setFromValue(a(t.fromType,e)),u({fromValue:e,toValue:s.toValue})},d=function(e){e="0"===t.toType?Object(lt.a)(e,0):e,t.setToValue(a(t.toType,e)),u({fromValue:s.fromValue,toValue:e})};return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsxs)(m.a,{container:!0,spacing:3,children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(K,{required:!0,items:C,label:"From",setter:t.setFromType,value:t.fromType})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:6,children:t.fromType?"0"===t.fromType?Object(i.jsx)(at,{setter:h,value:s.fromValue}):Object(i.jsx)(X,{required:!0,label:"Offset in minutes",type:"number",setter:h,value:s.fromValue}):null})]}),Object(i.jsxs)(m.a,{container:!0,spacing:3,children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(K,{required:!0,items:C,label:"To",setter:t.setToType,value:t.toType})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:6,children:t.toType?"0"===t.toType?Object(i.jsx)(at,{setter:d,value:s.toValue}):Object(i.jsx)(X,{required:!0,label:"Offset in minutes",type:"number",setter:d,value:s.toValue}):null})]})]})})),st=n(230),ct=n(231),ut=n(242),ht=n(56),dt=(n(166),n(167),n(168),Object(O.a)((function(e){var t=e.polygons,n={},i=function(e){e.workingLayer.on("pm:vertexadded",(function(e){e.sourceTarget.getLatLngs().length>=4&&s.pm.Draw.Polygon._finishShape(e)}))},r=function(e){n[e.layer._leaflet_id].setVertexes(e.layer.getLatLngs()[0])},l=Object(te.b)((function(e){var i=new ce(e.layer.getLatLngs()[0]);n[e.layer._leaflet_id]=i,t.push(i),e.layer.on("pm:edit",r)})),o=Object(te.b)((function(e){var i=n[e.layer._leaflet_id];delete n[e.layer._leaflet_id],t.remove(i),e.layer.off("pm:edit",r)})),s=Object(st.a)();return Object(a.useEffect)((function(){s.pm.setGlobalOptions({snappable:!1,allowSelfIntersection:!1,hideMiddleMarkers:!0}),s.pm.addControls({position:"topleft",drawCircle:!1,drawMarker:!1,drawCircleMarker:!1,drawRectangle:!1,drawPolyline:!1,cutPolygon:!1}),s.pm.Toolbar.changeActionsOfControl("Polygon",["removeLastVertex","cancel"]),s.on("pm:drawstart",i),s.on("pm:create",l),s.on("pm:remove",o);var e=Object(ht.featureGroup)();return t.forEach((function(t){var i=Object(ht.polygon)(t.vertexes).addTo(s);i.on("pm:edit",r),n[i._leaflet_id]=t,e.addLayer(i)})),t.length?s.fitBounds(e.getBounds()):(s.locate(),s.once("locationfound",(function(e){s.zoomIn(8),s.panTo(e.latlng)}))),function(){s.off("pm:drawstart",i),s.off("pm:create",l),s.off("pm:remove",o)}})),null}))),ft=Object(p.a)((function(e){return{map:{height:"400px"}}})),jt=Object(O.a)((function(e){var t=e.filter,n=ft();return Object(i.jsxs)(ct.a,{className:n.map,center:[0,0],zoom:0,scrollWheelZoom:!0,children:[Object(i.jsx)(ut.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(i.jsx)(dt,{polygons:t.polygons})]})})),mt=Object(O.a)((function(e){var t=e.filters,n=e.filterTypes,a=Object(te.b)((function(e){t.remove(e)}));return t.map((function(e){return Object(i.jsxs)(Le,{TransitionProps:{unmountOnExit:!0},expanded:e.open,onChange:function(){return function(e){e.setOpen(!e.open)}(e)},children:[Object(i.jsx)(Ye.Consumer,{children:function(t){return Object(i.jsx)(Ue,{item:e,param1:t,removeLabel:"Remove filter",removeCallback:a})}}),Object(i.jsx)(We,{children:Object(i.jsxs)(m.a,{container:!0,spacing:3,children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:12,children:Object(i.jsx)(K,{items:n,required:!0,label:"Type",setter:e.setType,value:e.type})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:12,children:"E"===e.type?Object(i.jsx)(ot,{filter:e}):"F"===e.type?Object(i.jsx)(jt,{filter:e}):"B"===e.type?Object(i.jsx)(Ke,{filter:e}):"A"===e.type?Object(i.jsx)(Qe,{label:"% per second",filter:e}):"C"===e.type?Object(i.jsx)(et,{filter:e}):"G"===e.type?Object(i.jsx)(tt,{filter:e}):"H"===e.type?Object(i.jsx)(nt,{filter:e}):null})]})})]},e.id)}))})),bt=V.filter((function(e){return"F"!==e.id})),gt=function(e,t){var n=!e||y[e].polygons?V:bt;return t?n:n.filter((function(e){return"B"!==e.id}))},pt=Object(p.a)((function(e){return{list:{padding:0},button:{margin:e.spacing(1)},heading:{display:"flex",justifyContent:"center",alignItems:"center"}}})),Ot=Object(O.a)((function(e){var t=e.filterGroups,n=e.lightModes,l=e.device,o=r.a.useState(gt(l,n)),s=Object(c.a)(o,2),u=s[0],h=s[1],j=pt(),b=Object(te.b)((function(){t.push(new ne(!!n))})),g=Object(te.b)((function(e){t.remove(e)})),p=Object(te.b)((function(e){e.filters.push(new oe)}));return Object(a.useEffect)((function(){h(gt(l,n))}),[l,n]),Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(Ge.a,{className:j.list,children:t.map((function(e){return Object(i.jsxs)(Le,{TransitionProps:{unmountOnExit:!0},expanded:e.open,onChange:function(){return function(e){e.setOpen(!e.open)}(e)},children:[Object(i.jsx)(Ue,{item:e,param1:n,removeLabel:"Remove group",removeCallback:g}),Object(i.jsxs)(We,{children:[Object(i.jsxs)(m.a,{container:!0,spacing:3,children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(X,{label:"Group name",setter:e.setName,value:e.name})}),n?Object(i.jsx)(m.a,{item:!0,xs:12,sm:6,children:Object(i.jsx)(K,{required:!0,items:n,label:"Light mode",setter:e.setLightMode,value:e.lightMode})}):null,Object(i.jsx)(m.a,{item:!0,xs:12,sm:12,children:Object(i.jsx)(d.a,{variant:"h5",gutterBottom:!0,children:"Filters"})})]}),Object(i.jsx)("div",{children:Object(i.jsx)(mt,{filters:e.filters,filterTypes:u})}),Object(i.jsx)(f.a,{variant:"contained",color:"secondary",className:j.button,startIcon:Object(i.jsx)(Me.a,{}),onClick:function(){return p(e)},children:"Add Filter"})]})]},e.id)}))}),Object(i.jsx)("div",{children:Object(i.jsx)(f.a,{variant:"contained",color:"secondary",className:j.button,startIcon:Object(i.jsx)(Me.a,{}),onClick:b,children:"Add Filter Group"})})]})})),xt=n(245),vt=n(246),yt=n(130),Tt=n(127),Vt=n.n(Tt),wt=Object(p.a)((function(e){return{container:{flexGrow:1,cursor:"move"},paper:{padding:e.spacing(2)},actions:{display:"flex",justifyContent:"center",alignItems:"center"}}})),Ct=Object(O.a)((function(e){var t=e.buttonGroup,n=e.lightModes,r=e.index,l=e.moveGroup,o=e.addButton,u=e.removeButton,h=Object(a.useRef)(null),d=wt(),f=Object(xt.a)({accept:"ButtonGroup",hover:function(e,t){var n;if(h.current){var i=e.index,a=r;if(i!==a){var o=null===(n=h.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(o.bottom-o.top)/2,c=t.getClientOffset().y-o.top;i<a&&c<s||i>a&&c>s||(l(i,a),e.index=a)}}}}),j=Object(c.a)(f,2)[1],b=Object(vt.a)({item:{type:"ButtonGroup",id:t.id,index:r},collect:function(e){return{isDragging:e.isDragging()}}}),g=Object(c.a)(b,2),p=g[0].isDragging?0:1;return(0,g[1])(j(h)),Object(i.jsx)("div",{ref:h,className:d.container,style:Object(s.a)({},p),children:Object(i.jsxs)(m.a,{container:!0,spacing:1,children:[t.buttons.map((function(e,t){return Object(i.jsx)(m.a,{item:!0,xs:!0,children:Object(i.jsx)(yt.a,{className:d.paper,children:Object(i.jsxs)(m.a,{container:!0,spacing:3,children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:12,children:Object(i.jsx)(K,{required:!0,items:n,label:"Light mode",setter:e.setMode,value:e.mode})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:12,children:e.mode>=0?Object(i.jsx)(X,{required:!0,label:"Button name",value:e.name,setter:e.setName}):Object(i.jsx)(X,{label:"Button name",value:"Smart / Manual / Network"})})]})})},e.id)})),Object(i.jsx)(m.a,{item:!0,xs:1,className:d.actions,children:Object(i.jsxs)(m.a,{container:!0,spacing:1,children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:12,children:Object(i.jsx)(J.a,{edge:"end","aria-label":"add",disabled:t.buttons.length>1,onClick:function(){return o(t)},children:Object(i.jsx)(Me.a,{})})}),Object(i.jsx)(m.a,{item:!0,xs:12,sm:12,children:Object(i.jsx)(J.a,{edge:"end","aria-label":"remove",onClick:function(){return u(t)},children:Object(i.jsx)(Vt.a,{})})})]})})]})})})),Nt=function(e){return[D].concat(e)},Gt=Object(p.a)((function(e){return{button:{margin:e.spacing(1)}}})),Ft=Object(O.a)((function(e){var t=e.lightPanel,n=e.lightModes,l=Gt(),o=r.a.useState(Nt(n)),s=Object(c.a)(o,2),u=s[0],h=s[1],d=Object(te.b)((function(){var e=new ue;e.buttons.push(new he),t.buttonGroups.push(e)})),j=Object(te.b)(Object(a.useCallback)((function(e,n){var i=t.buttonGroups[e];t.buttonGroups.splice(e,1),t.buttonGroups.splice(n,0,i)}),[t.buttonGroups])),b=Object(te.b)((function(e){e.buttons.push(new he)})),g=Object(te.b)((function(e){e.buttons.remove(e.buttons[e.buttons.length-1]),e.buttons.length||t.buttonGroups.remove(e)}));return Object(a.useEffect)((function(){h(Nt(n))}),[n]),Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(m.a,{container:!0,spacing:3,children:Object(i.jsx)(m.a,{item:!0,xs:6,sm:4,children:Object(i.jsx)(X,{label:"Short light name",setter:t.setLightName,value:t.lightName})})}),Object(i.jsx)("div",{children:t.buttonGroups.map((function(e,t){return Object(i.jsx)(Ct,{buttonGroup:e,lightModes:u,index:t,moveGroup:j,addButton:b,removeButton:g},e.id)}))}),Object(i.jsx)(f.a,{variant:"contained",color:"secondary",className:l.button,startIcon:Object(i.jsx)(Me.a,{}),onClick:function(){return d()},children:"Add Button Group"})]})})),Mt=function(e,t){return null!==e?t.find((function(t){return t.id===e})).modes:null},Pt=Object(p.a)((function(e){return{sectionTitle:{"margin-top":e.spacing(3),"margin-bottom":e.spacing(1)}}})),kt=Object(O.a)((function(e){var t=e.className,n=e.headerClassName,l=e.device,o=e.globalFilterGroups,s=e.lightType,u=e.lightList,h=e.lightFilterGroups,f=e.setLight,j=e.light,b=e.setLightModes,g=e.setDefaultMode,p=e.defaultMode,O=e.lightPanel,x=e.setLightPanel,v=Pt(),y=r.a.useState(Mt(j,u)),V=Object(c.a)(y,2),w=V[0],C=V[1];return Object(a.useEffect)((function(){if(C(Mt(j,u)),null==j)x(null);else if(null==O){var e=new de((n=u,null!==(t=j)?n.find((function(e){return e.id===t})).defaultLightPanel:null));x(e)}var t,n}),[j,u,x,O]),Object(i.jsxs)(we.a,{className:t,children:[Object(i.jsx)(Ne.a,{title:s+" Configuration",titleTypographyProps:{align:"center"},className:n}),Object(i.jsxs)(Ce.a,{children:[Object(i.jsx)(d.a,{color:"textPrimary",gutterBottom:!0,children:'In order to configure the light, the correct light should be selected as every light supports only a few modes from the "ANT+ Bike Lights Device Profile" and may differ from light to light. In case your light is not on the list, please feel free to open an issue on GitHub or select "Unknown" option. The "Unknown" option includes all the available options from the ANT+ profile and should only be used to test which modes your light supports. In case an unsupported mode is selected, the application will display an error code on the screen. When the correct light is selected, then you can define filters that triggers a certain light mode and set the default mode, which will be used when none of the defined filters evaluate to true. The filter logic is the same as for global filters, where all filters inside a filter group need to be true in order the filter group light mode to be used. In case having multiple filter groups, the light mode of the first filter group to be evaluated to true, will be used.'}),Object(i.jsxs)(m.a,{container:!0,spacing:3,justify:"center",children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:4,children:Object(i.jsx)(K,{items:u,label:s,setter:function(e){f(e),b(null!==e?u.find((function(t){return t.id===e})).lightModes:null)},value:j})}),w?Object(i.jsx)(m.a,{item:!0,xs:12,sm:4,children:Object(i.jsx)(K,{required:!(!o.length&&!h.length),items:w,label:"Default mode",setter:g,value:p})}):null]}),w?Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(d.a,{variant:"h5",className:v.sectionTitle,color:"textPrimary",children:"Filter groups"}),Object(i.jsx)(Ot,{filterGroups:h,lightModes:w})]}):null,w&&O&&T(l)?Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(d.a,{variant:"h5",className:v.sectionTitle,color:"textPrimary",children:"Light panel"}),Object(i.jsx)(Ft,{lightPanel:O,lightModes:w})]}):null]})]})})),Lt=Object(p.a)((function(e){return{mainContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},copyButton:{marginTop:e.spacing(4)},cardHeader:{backgroundColor:"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[700]},card:{marginTop:e.spacing(2)}}})),St=Object(O.a)((function(e){var t=e.configuration,n=Lt();return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsxs)(we.a,{className:n.card,children:[Object(i.jsx)(Ne.a,{title:"Global Filters",titleTypographyProps:{align:"center"},className:n.cardHeader}),Object(i.jsxs)(Ce.a,{children:[Object(i.jsx)(d.a,{color:"textPrimary",gutterBottom:!0,children:"Global filters are the first filters that are checked when the lights are in Smart mode and in case none of the defined filters evaluates to be true, the head/tail lights filters won't be evaluated. In other words, with global filters we can define filters that we want to apply for both tail and head lights (e.g. turn them on after sunset). In case you have only one light or don't have any common filter for both lights, just leave it empty and head/taillight filters will be evaluated. In order to define a filter that requires multiple conditions to be true, we have so called filter groups, that consist of one or more filters that must be true so that the whole filter group is evaluated to true. In case you need that any of the defined filters turns on the lights, create a filter group for each filter. In short, the Smart mode logic uses AND operator for filters inside a filter group and OR operator for filter groups. For each filter group a name can be set that will be displayed on your Garmin device (only when enough space is available) when evaluated to true, so that it is easier to understand which filter group triggered the lights to be turned on. When having multiple filter groups, the name of the first one to be evaluated as true will be used."}),Object(i.jsx)(m.a,{className:n.card,item:!0,xs:12,sm:12,children:Object(i.jsx)(d.a,{variant:"h5",color:"textPrimary",children:"Filter groups"})}),Object(i.jsx)(Ot,{filterGroups:t.globalFilterGroups,device:t.device})]})]}),Object(i.jsx)(kt,{className:n.card,headerClassName:n.cardHeader,device:t.device,globalFilterGroups:t.globalFilterGroups,lightType:"Headlight",lightList:A,lightFilterGroups:t.headlightFilterGroups,light:t.headlight,setLight:t.setHeadlight,setLightModes:t.setHeadlightModes,setDefaultMode:t.setHeadlightDefaultMode,defaultMode:t.headlightDefaultMode,lightPanel:t.headlightPanel,setLightPanel:t.setHeadlightPanel}),Object(i.jsx)(kt,{className:n.card,headerClassName:n.cardHeader,device:t.device,globalFilterGroups:t.globalFilterGroups,lightType:"Taillight",lightList:q,light:t.taillight,setLight:t.setTaillight,setLightModes:t.setTaillightModes,lightFilterGroups:t.taillightFilterGroups,setDefaultMode:t.setTaillightDefaultMode,defaultMode:t.taillightDefaultMode,lightPanel:t.taillightPanel,setLightPanel:t.setTaillightPanel}),Object(i.jsxs)(we.a,{className:n.card,children:[Object(i.jsx)(Ne.a,{title:"Lights Configuration",titleTypographyProps:{align:"center"},className:n.cardHeader}),Object(i.jsxs)(Ce.a,{children:[Object(i.jsx)(d.a,{color:"textPrimary",gutterBottom:!0,children:"When the lights are configured copy the below value and paste it in the Smart Light Bike application setting 'Lights Configuration' by using Garmin Connect Mobile. Do not use Garmin Express as it is limited to 256 characters."}),t.isValid()?Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(m.a,{item:!0,xs:12,sm:12,children:Object(i.jsx)(X,{value:t.getConfigurationValue()})}),Object(i.jsx)(m.a,{item:!0,className:n.copyButton,xs:12,sm:12,children:Object(i.jsx)(f.a,{variant:"contained",onClick:function(){navigator.clipboard.writeText(t.getConfigurationValue())},children:"Copy to clipboard"})})]}):Object(i.jsx)(m.a,{item:!0,xs:12,sm:12,children:Object(i.jsx)(b.a,{severity:"error",children:"Please fill the missing fields."})})]})]})]})})),Bt=Object(p.a)((function(e){return{mainContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},parseButtonCell:{marginBottom:"auto",marginTop:"auto"},parseButton:{width:"100%"}}})),Et=Object(O.a)((function(){var e=Bt(),t=new Ve,n=r.a.useState({configuration:t,existingConfigurationValue:null,context:Xe(t),parseError:!1}),a=Object(c.a)(n,2),l=a[0],o=a[1];return Object(i.jsxs)(Ye.Provider,{value:l.context,children:[Object(i.jsx)(j.a,{}),Object(i.jsx)(u.a,{position:"relative",children:Object(i.jsx)(g.a,{children:Object(i.jsx)(d.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Lights Configurator"})})}),Object(i.jsx)("main",{children:Object(i.jsx)("div",{className:e.mainContent,children:Object(i.jsxs)(h.a,{maxWidth:"md",children:[Object(i.jsxs)(m.a,{container:!0,spacing:2,justify:"center",children:[Object(i.jsx)(m.a,{item:!0,xs:8,sm:10,children:Object(i.jsx)(X,{label:"Existing configuration",value:l.existingConfigurationValue,setter:function(e){o(Object(s.a)(Object(s.a)({},l),{},{existingConfigurationValue:e}))}})}),Object(i.jsx)(m.a,{item:!0,xs:4,sm:2,className:e.parseButtonCell,children:Object(i.jsx)(f.a,{className:e.parseButton,variant:"contained",onClick:function(){!function(e){try{if(!(t=Ve.parse(e)))return void o(Object(s.a)(Object(s.a)({},l),{},{existingConfigurationValue:null,parseError:!0}));o({configuration:t,existingConfigurationValue:null,context:Xe(t),parseError:!1})}catch(n){o(Object(s.a)(Object(s.a)({},l),{},{existingConfigurationValue:null,parseError:!0}))}}(l.existingConfigurationValue)},children:"Parse"})}),l.parseError?Object(i.jsx)(m.a,{item:!0,xs:12,sm:12,children:Object(i.jsx)(b.a,{severity:"error",children:"Invalid configuration."})}):null,Object(i.jsx)(m.a,{item:!0,xs:12,sm:4,children:Object(i.jsx)(K,{required:!0,items:x,label:"Garmin device",setter:l.configuration.setDevice,value:l.configuration.device})}),Object(i.jsx)(m.a,{item:!0,xs:6,sm:4,children:Object(i.jsx)(K,{required:!0,items:G,label:"Units",setter:function(e){l.configuration.setUnits(e),o(Object(s.a)(Object(s.a)({},l),{},{context:Xe(l.configuration)}))},value:l.configuration.units})}),Object(i.jsx)(m.a,{item:!0,xs:6,sm:4,children:Object(i.jsx)(K,{required:!0,items:M,label:"Time format",setter:function(e){l.configuration.setTimeFormat(e),o(Object(s.a)(Object(s.a)({},l),{},{context:Xe(l.configuration)}))},value:l.configuration.timeFormat})})]}),l.configuration.device?Object(i.jsx)(St,{configuration:l.configuration}):null]})})})]})})),Dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,252)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,l=t.getTTFB;n(e),i(e),a(e),r(e),l(e)}))},At=n(240),It=n(227),qt=n(238),Ht=n(129);o.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(It.b,{dateAdapter:At.a,children:Object(i.jsx)(qt.a,{backend:Ht.a,children:Object(i.jsx)(Et,{})})})}),document.getElementById("root")),Dt()}},[[170,1,2]]]);
//# sourceMappingURL=main.a35446d3.chunk.js.map